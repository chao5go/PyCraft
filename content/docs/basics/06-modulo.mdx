---
title: 取模与取余
description: "取模 %、整除 //，循环下标与奇偶判断"
---

# 取模与取余

Python 里用 **`%`** 得到余数（取模/取余），用 **`//`** 得到整除结果。LeetCode 里常用于**循环下标**、**奇偶判断**、**哈希分桶**等。

## 基本用法

<PythonPlayground code={`# 取余：a % b = a 除以 b 的余数
print(7 % 3)   # 1
print(10 % 2)  # 0，整除
print(8 % 5)   # 3

# 整除：a // b = 舍去小数部分
print(7 // 3)   # 2
print(10 // 2)  # 5
print(-7 // 3)  # -3（向下取整）`} />

## 正数时：余数在 [0, b-1]

被除数是正数时，`a % b` 的结果一定在 `0` 到 `b-1` 之间，很适合做**循环下标**和**哈希桶**。

<PythonPlayground code={`# 循环下标：长度 n 的数组，下标 i 往后走 k 步
n = 5
i = 3
k = 2
next_i = (i + k) % n
print(next_i)   # 0，从 3 走 2 步到 0（环形）

# 等价：往前走
prev_i = (i - 1 + n) % n
print(prev_i)   # 2`} />

## 奇偶判断

`n % 2 == 0` 表示偶数，`n % 2 == 1` 表示奇数。

<PythonPlayground code={`for n in [4, 5, 0]:
    print(n, "偶数" if n % 2 == 0 else "奇数")

# 4 偶数, 5 奇数, 0 偶数`} />

## 哈希分桶

用 `x % m` 把数映射到 `0..m-1`，常用于哈希表桶下标、环形缓冲区。

<PythonPlayground code={`# 例如：按 3 分桶
for x in [2, 5, 8, 11]:
    bucket = x % 3
    print(f"{x} -> 桶 {bucket}")

# 2->0, 5->2, 8->2, 11->2`} />

## 负数取模（了解即可）

Python 的 `%` 结果符号与**除数**一致，且满足 `(a // b) * b + a % b == a`。刷题时多数是正数运算，遇到负数可先转成「等价正数」再取模。

<PythonPlayground code={`# 负数取模：结果与除数同号
print(-7 % 3)   # 2  （-7 = -3*3 + 2）
print(7 % -3)   # -2

# 若只要 [0, b-1]：先加 n 再取模
def mod_positive(a, b):
    return (a % b + b) % b

print(mod_positive(-1, 5))   # 4
print(mod_positive(-7, 3))   # 2`} />

## 小结

| 运算     | 写法   | 含义           |
|----------|--------|----------------|
| 取余/取模 | `a % b`  | 余数，正数时在 [0, b-1] |
| 整除     | `a // b` | 商（向下取整）   |
| 循环下标 | `(i + k) % n` | 环形往后 k 步 |
| 奇偶     | `n % 2 == 0`  | 偶数           |
